<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LuaLS type annotations | Thoughts</title>
    <link rel="stylesheet" href="/css/style.css">
    
</head>
<body>
    <header>
        <h1><a href="http://localhost:1313/">Thoughts</a></h1>
    </header>
    <main>
        
<article>
    <h1>LuaLS type annotations</h1>
    <time>31 Aug 2025</time>
    <p>Lua&rsquo;s dynamic nature makes it incredibly flexible, but this flexibility can sometimes lead to hard-to-debug type errors. The Lua Language Server (LuaLS) introduces a powerful type annotation system called <strong>LuaCATS</strong> (Lua Comment And Type System) that brings type safety and intelligent code assistance to Lua development.</p>
<blockquote>
<p>Check out the <a href="https://luals.github.io/wiki/annotations/">official documentation</a> for more</p></blockquote>
<h2 id="what-are-luals-annotations">What are LuaLS Annotations?</h2>
<p>LuaLS annotations are special comments prefixed with <code>---</code> (three dashes) that provide type information to the language server. These annotations help the server understand your code better, enabling features like:</p>
<ul>
<li><strong>Type checking</strong> and error detection</li>
<li><strong>Intelligent autocompletion</strong></li>
<li><strong>Better signature help</strong></li>
<li><strong>Code navigation</strong> and documentation</li>
<li><strong>Refactoring support</strong></li>
</ul>
<h2 id="basic-syntax-and-formatting">Basic Syntax and Formatting</h2>
<p>Annotations use triple-dash comments and support Markdown formatting:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">--- This is a basic annotation</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--- **Bold text** and *italic text* are supported</span>
</span></span></code></pre></div><h2 id="core-type-system">Core Type System</h2>
<p>LuaLS recognizes all standard Lua types, such as <code>nil</code>, <code>any</code>, <code>boolean</code>, <code>string</code>, and more.</p>
<h3 id="advanced-type-expressions">Advanced Type Expressions</h3>
<table>
  <thead>
      <tr>
          <th>Type Pattern</th>
          <th>Example</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Union Type</td>
          <td><code>string|number</code></td>
          <td>Multiple possible types</td>
      </tr>
      <tr>
          <td>Array</td>
          <td><code>string[]</code></td>
          <td>Array of specific type</td>
      </tr>
      <tr>
          <td>Dictionary</td>
          <td><code>{ [string]: boolean }</code></td>
          <td>String-keyed dictionary</td>
      </tr>
      <tr>
          <td>Key-Value</td>
          <td><code>table&lt;KEY, VALUE&gt;</code></td>
          <td>Generic table type</td>
      </tr>
      <tr>
          <td>Table Literal</td>
          <td><code>{ name: string, age: number }</code></td>
          <td>Structured table</td>
      </tr>
      <tr>
          <td>Function</td>
          <td><code>fun(param: string): boolean</code></td>
          <td>Function signature</td>
      </tr>
      <tr>
          <td>Optional</td>
          <td><code>string?</code></td>
          <td>Same as <code>string|nil</code></td>
      </tr>
  </tbody>
</table>
<h2 id="essential-annotations-with-examples">Essential Annotations with Examples</h2>
<h3 id="type---variable-type-declarations"><code>@type</code> - Variable Type Declarations</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">---@type string</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;John&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@type number[]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> scores <span style="color:#f92672">=</span> {<span style="color:#ae81ff">95</span>, <span style="color:#ae81ff">87</span>, <span style="color:#ae81ff">92</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@type { [string]: boolean }</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> settings <span style="color:#f92672">=</span> { sound <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>, music <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@type fun(username: string): boolean</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> validateUser
</span></span></code></pre></div><h3 id="param---function-parameters"><code>@param</code> - Function Parameters</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">---@param username string The user&#39;s name</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param age? number Optional age parameter</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param scores number[] Array of scores</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createUser</span>(username, age, scores)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- function body</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--- Union type parameter</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param id string | number</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">findById</span>(id) <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--- Optional parameter with ?</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param callback? fun() Optional callback function</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">processData</span>(callback) <span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h3 id="return---function-return-values"><code>@return</code> - Function Return Values</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">--- Simple return</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@return boolean</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">isValid</span>() <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span> <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--- Named return with description</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@return boolean success If operation succeeded</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@return string? error Error message if failed</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">riskyOperation</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>, <span style="color:#e6db74">&#34;Something went wrong&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--- Multiple returns</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@return integer count, string... names</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getNames</span>() <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34;Alice&#34;</span>, <span style="color:#e6db74">&#34;Bob&#34;</span>, <span style="color:#e6db74">&#34;Charlie&#34;</span> <span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h3 id="class---defining-custom-types"><code>@class</code> - Defining Custom Types</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">---@class User</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field name string</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field email string</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field age? number</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field scores number[]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param user User</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">processUser</span>(user)
</span></span><span style="display:flex;"><span>    print(user.name) <span style="color:#75715e">-- Autocomplete works here!</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--- Class inheritance</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@class Admin: User</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field permissions string[]</span>
</span></span></code></pre></div><h3 id="alias---type-aliases-and-enums"><code>@alias</code> - Type Aliases and Enums</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">--- Simple type alias</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@alias UserID integer</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--- Union type alias</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@alias Status &#34;active&#34; | &#34;inactive&#34; | &#34;pending&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--- Enum with descriptions</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@alias Color</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---| &#39;&#34;red&#34;&#39;    # Primary color red</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---| &#39;&#34;green&#34;&#39;  # Primary color green  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---| &#39;&#34;blue&#34;&#39;   # Primary color blue</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param favoriteColor Color</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">setColor</span>(favoriteColor) <span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h3 id="enum---runtime-enums"><code>@enum</code> - Runtime Enums</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">---@enum LogLevel</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> LOG_LEVELS <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    DEBUG <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>    INFO <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>    WARN <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>    ERROR <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param level LogLevel</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">logMessage</span>(level, message) <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>logMessage(LOG_LEVELS.INFO, <span style="color:#e6db74">&#34;System started&#34;</span>) <span style="color:#75715e">-- Type-safe!</span>
</span></span></code></pre></div><h2 id="advanced-annotations">Advanced Annotations</h2>
<h3 id="generic---generic-types"><code>@generic</code> - Generic Types</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">--- Generic function</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@generic T</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param item T</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@return T</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">identity</span>(item) <span style="color:#66d9ef">return</span> item <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--- Generic class</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@class Container&lt;T&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field value T</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@type Container&lt;string&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> stringContainer <span style="color:#f92672">=</span> { value <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello&#34;</span> }
</span></span></code></pre></div><h3 id="overload---function-overloading"><code>@overload</code> - Function Overloading</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">---@param name string</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param age number</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@return User</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@overload fun(name: string): User</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@overload fun(id: number): User</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createUser</span>(name, age) <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- All these calls are valid:</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> user1 <span style="color:#f92672">=</span> createUser(<span style="color:#e6db74">&#34;Alice&#34;</span>, <span style="color:#ae81ff">30</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> user2 <span style="color:#f92672">=</span> createUser(<span style="color:#e6db74">&#34;Bob&#34;</span>) 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> user3 <span style="color:#f92672">=</span> createUser(<span style="color:#ae81ff">123</span>)
</span></span></code></pre></div><h3 id="async---asynchronous-functions"><code>@async</code> - Asynchronous Functions</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">---@async</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param url string</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@return string response</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fetchData</span>(url) <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Language server will show &#34;await&#34; hint</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> data <span style="color:#f92672">=</span> fetchData(<span style="color:#e6db74">&#34;https://api.example.com/data&#34;</span>)
</span></span></code></pre></div><h3 id="diagnostic---controlling-error-reporting"><code>@diagnostic</code> - Controlling Error Reporting</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">--- Disable specific diagnostics</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@diagnostic disable-next-line: unused-local</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> unusedVariable <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--- Enable spell checking in file</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@diagnostic enable: spell-check</span>
</span></span></code></pre></div><h2 id="practical-examples">Practical Examples</h2>
<h3 id="api-client-with-full-type-safety">API Client with Full Type Safety</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">---@class ApiResponse</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field success boolean</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field data any</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field error? string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@class User</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field id integer</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field name string</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field email string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@async</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param endpoint string</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@return ApiResponse</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">apiRequest</span>(endpoint) <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param id integer</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@return User?</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getUser</span>(id)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">---@type ApiResponse</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">local</span> response <span style="color:#f92672">=</span> apiRequest(<span style="color:#e6db74">&#34;/users/&#34;</span> <span style="color:#f92672">..</span> id)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> response.success <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">---@cast response.data User</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> response.data
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h3 id="game-entity-system">Game Entity System</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">---@alias EntityType &#34;player&#34; | &#34;enemy&#34; | &#34;item&#34; | &#34;npc&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@class Vector2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field x number</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field y number</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@class Entity</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field id integer</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field type EntityType</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field position Vector2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field health number</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field maxHealth number</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@class Player: Entity</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field username string</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@field inventory Item[]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param entity Entity</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@param damage number</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@return boolean entityDied</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">applyDamage</span>(entity, damage)
</span></span><span style="display:flex;"><span>    entity.health <span style="color:#f92672">=</span> entity.health <span style="color:#f92672">-</span> damage
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> entity.health <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h2 id="best-practices">Best Practices</h2>
<ol>
<li><strong>Start with critical functions</strong>: Add annotations to your most important functions first</li>
<li><strong>Use descriptive names</strong>: Good parameter names help with autocomplete</li>
<li><strong>Leverage union types</strong>: Use <code>|</code> for values that can be multiple types</li>
<li><strong>Mark optional parameters</strong>: Use <code>?</code> suffix for parameters that can be <code>nil</code></li>
<li><strong>Create type aliases</strong>: Use <code>@alias</code> for complex or frequently used types</li>
<li><strong>Enable strict mode</strong>: Configure LuaLS for stricter type checking in production</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<p>LuaLS type annotations transform Lua development from a purely dynamic experience to one with robust type safety and intelligent assistance. By adopting these annotations, you can:</p>
<ul>
<li>Catch type errors before runtime</li>
<li>Improve code documentation and readability</li>
<li>Enhance IDE autocompletion and navigation</li>
<li>Facilitate better team collaboration</li>
<li>Create more maintainable codebases</li>
</ul>
<p>Start gradually introducing annotations to your existing codebase, and you&rsquo;ll quickly appreciate the productivity gains and error prevention they provide.</p>

</article>

    </main>
    <footer>
        <p>&copy; 2025 Thoughts</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({ startOnLoad: true });
        });
    </script>
</body>
</html>